$(document).ready(async function (){let failed=0; axios.get('./auth/api/?action=etusivu') .then(async function (response){var Holder=$("#Palvelut"); var temp=``; response.data.tuotteet.forEach(element=>{var kuvat=``; if (Array.isArray(element?.kuva)){element.images.forEach(kuva=>{kuvat +=`<div class="hidden duration-700 ease-in-out" data-carousel-item><img src="${kuva}" class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="Palvelun Kuva"></div>`});}else{kuvat=`<img class="p-8 rounded-lg" src="${element?.kuva}" alt="Palvelu tuote">`;}if (Array.isArray(element?.kuva)){}else{var desc=``; if (element?.description){desc=`<div class="my-2 text-sm font-medium text-gray-500">${element?.description}</div>`;}var type=``; if (element?.type==="Tuntityö"){type=`/ tunti`;}else if (element?.type==="KM"){type=`/ km`;}else if (element?.type==="Alkaen"){type=`Alkaen`;}temp +=` <div class="w-full max-w-sm bg-white rounded-lg shadow-md"> <div class="grid place-items-center my-6"> <img src="${element?.kuva}" class="p-12 w-32 h-32 rounded-lg" alt="Palvelun Kuva"> </div><div class="px-5 pb-5 my-2"> <h5 class="text-xl font-semibold tracking-tight text-gray-900"> ${element?.nimi}</h5> <div class="flex items-center mt-2.5 mb-5"></div><div class="justify-between items-center"> <span class="text-3xl font-bold text-gray-900">${element?.hinta}€</span> ${type}<button data-popover-target="${element?.id}-description" data-popover-placement="bottom-end" type="button"><svg class="w-4 h-4 ml-2 text-gray-400 hover:text-gray-500" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path></svg><span class="sr-only">Show information</span></button> </div>${desc}</div></div><div data-popover id="${element?.id}-description" role="tooltip" class="absolute z-10 invisible inline-block text-sm font-light text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm opacity-0 w-72"> <div class="p-3 space-y-2"> <h3 class="font-semibold text-gray-900 dark:text-white">${element?.nimi}- Hinnoittelu</h3> <p>${element?.lisatieto}</p></div><div data-popper-arrow></div></div>`;}}); Holder.html(temp);}) .catch(function (error){failed=1;}); if (failed===1){axios.get('./auth/api/?action=banneri') .then(async function (response){if (response["data"]["IlmoitusBanneri"]["enabled"]==true){var message=response["data"]["IlmoitusBanneri"]["text"]; $("#IlmoitusBanneri").attr("tabindex", "-1"); $("#IlmoitusBanneri").html(`<div id="banneri" tabindex="-1" class="flex z-50 justify-between py-3 w-full bg-gray-50 border border-b"> <div class="flex items-center mx-auto"><p class="text-sm font-medium text-gray-900 md:my-0">${message}</p></div><button data-collapse-toggle="banneri" type="button" class="inline-flex justify-center items-center text-gray-400 hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div>`)}});}});AOS.init();$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function (event){if (location.pathname.replace(/^\//, '')==this.pathname.replace(/^\//, '') && location.hostname==this.hostname){var target=$(this.hash); target=target.length ? target : $('[name=' + this.hash.slice(1) + ']'); if (target.length){event.preventDefault(); $('html, body').animate({scrollTop: target.offset().top}, 1000, function (){var $target=$(target); $target.focus(); if ($target.is(":focus")){return false;}else{$target.attr('tabindex', '-1'); $target.focus();};});}}});